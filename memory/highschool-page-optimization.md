# 📋 高校系统页面优化进度

> 参照学院管理页面(Colleges.vue)标杆，统一交互模式，提升高校数字化水平
> 创建于: 2026-02-10 | 负责人: powerA ⚡

---

## 🔴 P0 — 管理后台操作统一（最高优先级）

> 目标：所有管理页面统一「编辑主按钮 + 更多下拉菜单」模式，补全基础功能

### Task 1: Users.vue — 用户管理
- **改动文件**: `frontend/src/views/Admin/Users.vue`, 后端 `users.py`
- **预计行数**: ~150行改动
- [x] 1.1 操作列改为「编辑」+「更多」下拉菜单（重置密码、启用/禁用、删除）
- [x] 1.2 增加统计卡片（用户总数、管理员、教师、学生）
- [x] 1.3 增加批量操作（批量启用/禁用）
- [x] 1.4 筛选增加「状态」
- [x] 1.5 用户详情弹窗（上传文档列表）

### Task 2: Categories.vue — 分类管理
- **改动文件**: `frontend/src/views/Admin/Categories.vue`
- **预计行数**: ~120行改动
- [x] 2.1 操作列改为「编辑」+「更多」下拉（添加子分类、启用/禁用、删除）
- [x] 2.2 增加统计卡片（分类总数、有文档分类数、空分类数）
- [x] 2.3 增加分类描述字段
- [x] 2.4 增加折叠/展开全部按钮
- [x] 2.5 增加分类图标选择器

### Task 3: Tags.vue — 标签管理
- **改动文件**: `frontend/src/views/Admin/Tags.vue`
- **预计行数**: ~100行改动
- [x] 3.1 操作列改为「编辑」+「更多」下拉（删除）
- [x] 3.2 增加标签使用频率列（使用次数）
- [x] 3.3 增加批量操作（批量删除）
- [x] 3.4 颜色选择改为预设色板 + 自定义
- [x] 3.5 增加标签云预览组件

### Task 4: Review.vue — 审核管理
- **改动文件**: `frontend/src/views/Admin/Review.vue`, 后端 `documents.py`
- **预计行数**: ~180行改动
- [x] 4.1 增加审核统计卡片（待审核数、今日已审核）
- [x] 4.2 审核意见弹窗（已有，保留原有逻辑）
- [x] 4.3 增加筛选（学院、文件类型）
- [x] 4.4 增加批量审核支持（批量通过）
- [x] 4.5 增加审核历史记录 Tab

---

## 🟡 P1 — 文档核心体验（高优先级）

> 目标：提升文档管理和浏览的核心体验

### Task 5: Documents/Index.vue — 文档列表
- **改动文件**: `frontend/src/views/Documents/Index.vue`
- **预计行数**: ~200行改动
- [x] 5.1 增加视图切换（列表视图 / 卡片视图）
- [x] 5.2 增加文档状态标识（已审核/待审核/已拒绝/草稿）
- [x] 5.3 增加快捷操作（收藏、下载、分享链接）
- [x] 5.4 增加高级筛选（文件大小、上传者、标签）
- [x] 5.5 增加批量操作（批量下载、批量移动分类、批量打标签）

### Task 6: Documents/Detail.vue — 文档详情
- **改动文件**: `frontend/src/views/Documents/Detail.vue`, 后端新增 API
- **预计行数**: ~300行改动（最大改动量）
- [x] 6.1 文档在线预览（PDF.js 内嵌）
- [x] 6.2 版本管理（上传新版本、版本列表）
- [x] 6.3 相关文档推荐（基于向量相似度）
- [x] 6.4 访问统计（浏览次数、下载次数）
- [x] 6.5 AI 摘要一键生成按钮

### Task 7: Dashboard.vue — 仪表盘
- **改动文件**: `frontend/src/views/Admin/Dashboard.vue`, 后端统计 API
- **预计行数**: ~150行改动
- [x] 7.1 增加「待办事项」区块（待审核数、新用户申请）
- [x] 7.2 增加「存储空间使用」进度条
- [x] 7.3 图表数据改为真实 API
- [x] 7.4 增加时间范围快切（今日/本周/本月/全年）

---

## 🟢 P2 — 功能增强（中优先级）

> 目标：完善上传和搜索体验

### Task 8: Upload.vue — 上传页面
- **改动文件**: `frontend/src/views/Upload.vue`
- **预计行数**: ~150行改动
- [ ] 8.1 批量上传支持（多文件队列 + 进度）
- [ ] 8.2 上传模板/快捷填充
- [ ] 8.3 文件预览（上传前确认）
- [ ] 8.4 OCR 自动提取标题/作者（AI 辅助）

### Task 9: Search/Index.vue — 智能搜索
- **改动文件**: `frontend/src/views/Search/Index.vue`
- **预计行数**: ~120行改动
- [ ] 9.1 搜索历史记录（最近 + 热门）
- [ ] 9.2 搜索结果排序选项
- [ ] 9.3 搜索结果关键词高亮
- [ ] 9.4 AI 回答「引用来源」可点击跳转

### Task 10: Chat/Index.vue — AI 对话
- **改动文件**: `frontend/src/views/Chat/Index.vue`
- **预计行数**: ~100行改动
- [ ] 10.1 对话导出（PDF/Markdown）
- [ ] 10.2 快捷指令支持
- [ ] 10.3 打字机效果 + 代码高亮优化

---

## 🔵 P3 — 用户体验打磨（低优先级）

> 目标：细节体验提升

### Task 11: Home.vue — 首页
- [ ] 11.1 个性化推荐（基于浏览/收藏历史）
- [ ] 11.2 公告/通知横幅
- [ ] 11.3 快捷入口自定义

### Task 12: Profile/Index.vue — 个人中心
- [ ] 12.1 头像上传
- [ ] 12.2 个人统计面板
- [ ] 12.3 活动日志时间线
- [ ] 12.4 通知偏好设置

### Task 13: Login.vue — 登录页
- [ ] 13.1 忘记密码流程
- [ ] 13.2 学生自助注册（管理员审批）
- [ ] 13.3 移动端适配优化

### Task 14: My/Favorites.vue — 我的收藏
- [ ] 14.1 收藏夹分组
- [ ] 14.2 排序选项
- [ ] 14.3 批量取消收藏

### Task 15: My/Uploads.vue — 我的上传
- [ ] 15.1 上传统计
- [ ] 15.2 审核状态 Tab 切换
- [ ] 15.3 重新提交功能

### Task 16: Notifications/Index.vue — 通知中心
- [ ] 16.1 通知分类（系统/审核/互动）
- [ ] 16.2 通知偏好设置
- [ ] 16.3 清空已读/删除通知

### Task 17: Chat/History.vue — 对话历史
- [ ] 17.1 搜索历史对话内容
- [ ] 17.2 对话标签/分类

---

## 📊 总览

| 优先级 | 任务数 | 子项数 | 预计改动 | 状态 |
|--------|--------|--------|----------|------|
| P0 | 4 | 20 | ~550行 | ⬜ 待开始 |
| P1 | 3 | 14 | ~650行 | ⬜ 待开始 |
| P2 | 3 | 11 | ~370行 | ⬜ 待开始 |
| P3 | 7 | 16 | ~400行 | ⬜ 待开始 |
| **合计** | **17** | **61** | **~1970行** | |

## 📝 执行原则

1. **按 Task 单位执行** — 每个 Task 是一个独立可交付单元
2. **每个子 agent 只改 1-2 个文件** — 控制上下文
3. **前端改完本地验证 build** — 不部署就不推
4. **每完成一个 Task 更新此文件** — 打勾 + 记录日期
5. **需要后端改动的单独标注** — 前后端分开做

---
*by powerA ⚡ | 最后更新: 2026-02-10 01:43*
